{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u0437\\u0430\\u0434\\u0430\\u0447\\u043D\\u0438\\u043AJS\\\\CLONES\\\\MYSHOPFREE\\\\myShopReact\\\\ReactShop\\\\react-shop\\\\src\\\\components\\\\Registration\\\\FormGet.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState, useContext } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { AccountContext } from \"../Context/AccountProvider\";\nimport { AuthContext } from \"../Context/AuthProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction FormGet() {\n  _s();\n\n  const {\n    singIn,\n    fromPage\n  } = useContext(AuthContext);\n  const {\n    usSetCheckId\n  } = useContext(AccountContext); //navigate\n\n  const navigate = useNavigate(); //form func\n\n  const form = useRef();\n  const [users, setUsers] = useState('');\n  const [inputData, setInputData] = useState('');\n\n  function HandlerButton() {\n    const formElem = form.current;\n    const email = formElem.email.value;\n    const password = formElem.password.value;\n    setInputData({\n      email,\n      password\n    });\n    formElem.email.value = '';\n    formElem.password.value = '';\n  }\n\n  useEffect(() => {\n    fetch(\"http://localhost:3000/userCard\").then(data => data.json()).then(data => setUsers(data)).then(SearchCheck);\n  }, [inputData]);\n\n  async function SearchCheck() {\n    const searchEmail = await users.filter(item => item.email == inputData.email);\n    console.log(searchEmail);\n\n    if (searchEmail.length == 1) {\n      const Card = searchEmail[0];\n      console.log(Card);\n      Card.password == inputData.password ? () => usSetCheckId(true) : alert(\"false pass\");\n      Card.password == inputData.password ? singIn(Card, NavigateTo) : alert(\"false pass\");\n    }\n  }\n\n  const NavigateTo = () => navigate(fromPage, {\n    replace: true\n  });\n  /*.then(data => users.filter((item) => item.email == inputData.email))\r\n        .then(data => {\r\n           console.log(data)\r\n           if (data.length == 1) {\r\n              const Card = data[0]\r\n              console.log(Card);\r\n              Card.password == inputData.password ? singIn(Card.id, navigate(fromPage, { repalce: true })) : alert(\"false pass\")\r\n           }\r\n        } */\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      ref: form,\n      class: \"vhod__form\",\n      action: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        class: \"reg__label\",\n        for: \"email\",\n        children: \"\\u0410\\u0434\\u0440\\u0435\\u0441\\u0441 \\u042D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u043E\\u0439 \\u043F\\u043E\\u0447\\u0442\\u044B:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        class: \"reg__input\",\n        id: \"reg__emal\",\n        name: \"email\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        class: \"reg__label\",\n        for: \"password\",\n        children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        class: \"reg__input\",\n        id: \"reg__pass\",\n        name: \"password\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onClick: HandlerButton,\n        class: \"reg__btn\",\n        type: \"button\",\n        value: \"\\u0432\\u043E\\u0439\\u0442\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 10\n    }, this)\n  }, void 0, false);\n}\n\n_s(FormGet, \"3+2/RQzFKeCXDD+zXsShe0NQTbw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = FormGet;\nexport default FormGet;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormGet\");","map":{"version":3,"sources":["C:/задачникJS/CLONES/MYSHOPFREE/myShopReact/ReactShop/react-shop/src/components/Registration/FormGet.jsx"],"names":["React","useEffect","useRef","useState","useContext","useNavigate","useLocation","AccountContext","AuthContext","FormGet","singIn","fromPage","usSetCheckId","navigate","form","users","setUsers","inputData","setInputData","HandlerButton","formElem","current","email","value","password","fetch","then","data","json","SearchCheck","searchEmail","filter","item","console","log","length","Card","alert","NavigateTo","replace"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState, useContext } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { AccountContext } from \"../Context/AccountProvider\";\r\nimport { AuthContext } from \"../Context/AuthProvider\";\r\nfunction FormGet() {\r\n   const { singIn, fromPage } = useContext(AuthContext)\r\n   const { usSetCheckId } = useContext(AccountContext)\r\n   //navigate\r\n   const navigate = useNavigate()\r\n   //form func\r\n   const form = useRef()\r\n   const [users, setUsers] = useState('')\r\n   const [inputData, setInputData] = useState('')\r\n   function HandlerButton() {\r\n      const formElem = form.current\r\n      const email = formElem.email.value\r\n      const password = formElem.password.value\r\n      setInputData({\r\n         email,\r\n         password\r\n      })\r\n      formElem.email.value = ''\r\n      formElem.password.value = ''\r\n   }\r\n   useEffect(() => {\r\n      fetch(\"http://localhost:3000/userCard\")\r\n         .then(data => data.json())\r\n         .then(data => setUsers(data))\r\n         .then(SearchCheck)\r\n   }, [inputData])\r\n   async function SearchCheck() {\r\n      const searchEmail = await users.filter((item) => item.email == inputData.email)\r\n      console.log(searchEmail);\r\n      if (searchEmail.length == 1) {\r\n         const Card = searchEmail[0]\r\n         console.log(Card);\r\n         Card.password == inputData.password ? () => usSetCheckId(true) : alert(\"false pass\")\r\n         Card.password == inputData.password ? singIn(Card, NavigateTo) : alert(\"false pass\")\r\n      }\r\n   }\r\n\r\n   const NavigateTo = () => navigate(fromPage, { replace: true })\r\n\r\n   /*.then(data => users.filter((item) => item.email == inputData.email))\r\n         .then(data => {\r\n            console.log(data)\r\n            if (data.length == 1) {\r\n               const Card = data[0]\r\n               console.log(Card);\r\n               Card.password == inputData.password ? singIn(Card.id, navigate(fromPage, { repalce: true })) : alert(\"false pass\")\r\n            }\r\n         } */\r\n\r\n\r\n\r\n\r\n\r\n   return (\r\n      <>\r\n         <form ref={form} class=\"vhod__form\" action=\"\">\r\n            <label class=\"reg__label\" for=\"email\">Адресс Электронной почты:</label>\r\n            <input class=\"reg__input\" id=\"reg__emal\" name=\"email\" type=\"text\" />\r\n            <label class=\"reg__label\" for=\"password\">Пароль:</label>\r\n            <input class=\"reg__input\" id=\"reg__pass\" name=\"password\" type=\"text\" />\r\n            <input onClick={HandlerButton} class=\"reg__btn\" type=\"button\" value=\"войти\" />\r\n         </form>\r\n      </>\r\n   )\r\n}\r\nexport default FormGet"]},"metadata":{},"sourceType":"module"}